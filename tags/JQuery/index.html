<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Tag: JQuery | 欢迎来到何泽丰的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
  <meta name="description" content="怕，你就输一辈子">
<meta property="og:type" content="website">
<meta property="og:title" content="欢迎来到何泽丰的博客">
<meta property="og:url" content="http://yoursite.com/tags/JQuery/index.html">
<meta property="og:site_name" content="欢迎来到何泽丰的博客">
<meta property="og:description" content="怕，你就输一辈子">
<meta property="article:author" content="何泽丰">
<meta name="twitter:card" content="summary">
  
    <link rel="icon" href="/images/icon.png">
  
  
<link rel="stylesheet" href="/blog/css/index.css">



  <!-- 百度站長統計-->
  
  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?34f341cfdc5f80d1bbb5dab01822e053";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
  
<meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/blog/atom.xml" title="欢迎来到何泽丰的博客" type="application/atom+xml">
</head>

<div class="main height-100 flex flex-v">
  <div class="phone-header">
    <a to="/home" class="mobile-logo" > <img src="/images/logo.svg" /> </a>
    <a class="menu iconfont icon-menu" onclick="toggleMenu()"></a>
  </div>
  <div class="main-top flex flex1">
    <nuxt-link  to="/home" class="mobile-nav-btn iconfont icon-fenlei"></nuxt-link>
    <!--主页上左部分-->
    <div class="height-100 main-left  flex flex-v">
      <div class="main-left-top flex1">
        <a class="logo">
          <img src="/images/logo.svg" />
          <div class="sub-title">自强不息 厚德载物</div>
        </a>
        <nav class="nav">

  
    
      <a title="首页"  alt="首页"  v-for="(menu,index) in menus" href="/blog">
        <div class="icon"><i class="iconfont icon-home"></i></div>
        <div class="name">
          <div class="cnname">首页</div>
          <div class="enname">Home Page</div>
        </div>
      </a>

    
      <a title="归档"  alt="归档"  v-for="(menu,index) in menus" href="/blog/archives">
        <div class="icon"><i class="iconfont icon-archives"></i></div>
        <div class="name">
          <div class="cnname">归档</div>
          <div class="enname">Archive Page</div>
        </div>
      </a>

    
      <a title="关于我"  alt="关于我"  v-for="(menu,index) in menus" href="/blog/about">
        <div class="icon"><i class="iconfont icon-about"></i></div>
        <div class="name">
          <div class="cnname">关于我</div>
          <div class="enname">About Me</div>
        </div>
      </a>

    
  

  <!--<a href="/link/">
    <div class="icon"><i class="iconfont icon-link"></i></div>
    <div class="name">
      <div class="cnname">友情链接</div>
      <div class="enname">Friends Web Link</div>
    </div>
  </a>-->
</nav>

      </div>

      <view class="website-msg">
        <div class="beian"><a target="_blank" href="http://www.miitbeian.gov.cn/"></a></div>
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <div class="beian"><span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span></div>
        <div class="theme-drsc">PowerBy:<a href="https://hexo.io" target="_blank">Hexo</a> ThemeBy:<a href="" target="_blank">Soul</a></div>
        <div class="copyright">Copyright &#169 <a href="mailto:316692151@qq.com">2020 He ZeFeng</a> </div>
      </view>

      <div class="social flex flex-align-center ">
        
          
            
              <a class="flex1 text-center" href="https://weibo.com/3759599790/profile?rightmod=1&amp;wvr=6&amp;mod=personinfo&amp;is_all=1" target="_blank" title="weibo" alt="weibo">
                <div class="icon relative">
                  <i class="iconfont icon-weibo"></i>
                </div>
              </a>
            
          
            
              <a class="flex1 text-center" href="https://github.com/FengZeHe" target="_blank" title="GitHub" alt="GitHub">
                <div class="icon relative">
                  <i class="iconfont icon-github"></i>
                </div>
              </a>
            
          
            
              <a class="flex1 text-center" href="/blog/316692151" target="_blank" title="wechat" alt="wechat">
                <div class="icon relative">
                  <i class="iconfont icon-wechat"></i>
                </div>
              </a>
            
          
        
      </div>
    </div>
    <!--主页上右部分-->
    
  
    
    <div class="project-card project-card-continuous">
  
  <div class="ctnWrap">
    <a href="/blog/2019/05/12/JQuery-note/" class="title">JQuery笔记</a>
    <section class="desc">
  JQuery学习笔记jQuery是啥呢？它封装JavaScript常用的功能代码，提供一种简便的JavaScript设计模式，优化HTML文档操作、事件处理、动画设计和Ajax交互。
jQuery的用法：选择元素：
$(); 里面和CSS一样，不过对选择出的一组元素，一起处理，省略循环，这里是js不允许的。
里面可以写CSS选择器原生dmo,jQuery对象、 null  /undefind / function(){}    selector/content等
jQuery特有的选择规则，选出来是jquery对象
filter可以用来筛选，例如说筛选类名。not的话可以用来反向选择，没有这一项的就被选中，is则相反。has说明里面有这一项的选项被选中。find跟has的区别是，找到这里有这一项的然后选中。
jQuery可以进行链式操作。 
sizzle是用来选择特殊写法的，是查到dom最快的方式。

函数写法：
都是函数式的写法。
CSS取值相当于getComputed，赋值相当于1dom.style.***
，就写width，然后啥也不写
css赋值一组，取值取一个（）
xxx.setAttribute(‘son’,’’Feng)  这样就可以给对象添加属性了。  
attr() 用于设置或返回被选中元素的属性值
prop() 如果是检索html元素则使用attr()替代。
next()下一个兄弟节点。
prev()上一个兄弟节点
index 当前兄弟节点
addClass removeClass
toggleClass 删除或者添加类名  没有的话帮你添加，有话帮你删除
insertBefore  插入到谁谁的前面。
appendTo()   –这个比较常用12A添加到B的里面（添加到最后一个子元素后） $(&#39;p&#39;).appendTo($(&#39;ul&#39;)D.append（C）  D里加上C
remove detach 可以删除元素并且可以return 删除的元素。remove的话点击删除之后也删除了方法，因此第二次点击不能再删除了，而detach则可以。不断的进行删除和添加
on方法绑定时间 

1.on(&#39;click&#39; ,&#39;a&#39;, function()&#123;&#125;)  &#x2F;&#x2F;off可以解除绑定 $(&#39;.item&#39;).off(&#39;click&#39;), 如果想指定解绑的元素，那就要传值以更精准

one() 只绑定之间一次scrollTop()  滚出去的高度 
动态生成标签 1$(&#39;&lt;div&gt;&lt;&#x2F;div&gt;&#39;)
经常用于动态添加图片或者选项框

关于事件：
时间对象 e-&gt;e.pageX 相对文档而言，e.clinetX 相对于浏览窗口而言。 e.which 哪个键或按钮  e.button哪个鼠标按键被按

e.preventDefalut()  s.stopPrpagation()  return false;  这些都是用来解绑事件的

offset().left/top position().left/top。

offset()方法返回或设置匹配元素相对于文档的偏移（位置）。


parent() 返回父节点 

offsetParent() 返回离它最近有定位的父级        

paerents()  返回多个父级

closet()  查找最近的祖先节点        

val是jQuery里面代表.value的参数

each 遍历 
1$(&#39;li&#39;)each(function (index  , ele )&#123;&#125; )

end() 回退操作,可以使jQuery 可以连续实现点操作。就说可以用一行代码搞定。

slblings()  当前元素节点的所有兄弟节点

1$(&#39;li.third-item&#39;).siblings().css(&#39;background-color&#39;, &#39;red&#39;);



prevAll()  当前元素上面的所有兄弟节点

nextAll() 当前元素下面的所有兄弟节点 

prevUntil()  nextUntil() 掐头去尾选中元素，传jQuery 对象dom

clone 克隆节点，参数为true的时候，事件也能克隆

wrap 包裹的意思  wrapall    包裹选中所有的元素 会破坏结构  unwrap 接触包装，接过话标签不能删除。

A.add(B)  选中元素A和B集中操作。

slice(0，2)  截取，算头不算尾

serialize 串联表单数据 serializeArray 串联数据成数组

animate()

参数target  
参数durition    
参数代表速度变化方式  
回调函数


stop(true, true) 停止当前所有的运动，停在当前目标带点  ,后面的参数决定是否立即到达目标点上  

是否停止后续所有运动     false：不停止，继续运动  true :停止后续所有运动
是否立即到达当前目标点     flase :不到达    true：到达



22.stop（flase ,true） 跳过当前运动并到达目标点，执行后续运动

finish()  停止当前运动  

delay （）延迟，参数，延迟运动   
1jquery.easing.js 是专门用来做jQuery 运动的.

slideToggle(speed ,callback)  通过滑动效果来切换元素的可见状态

sildeUp   sildedown   隐藏起来元素/显示元素——根据之前的不同状态进行切换- none–block  or  block–none

toggleClass(active)  对设置或移除备选元素的一个或多个类进行切换

fade in/out   淡入淡出

tigger 方法触发被选元素的指定事件类型。==tigger出发事件是会冒泡，触发里面会影响外面  tigger可以触发自定义事件==  


工具方法：1以$.xxx  jQuery.xxx这种方式调用 ，此类方法定位在jQuery 函数上面

$.type()  判断 参数的数据类型 原生js判断类型的三种方法：
1231. arr.instanceof Aarray  2. arr.constructor &#x3D;&#x3D;Array  3. Object.prototype.toString.call(arr)

1,2两种有局限性，3 比较通用
trim()方法
1$.trim 消除空格


$proxy() 改变this指针方向 参数1：function , 参数2：函数执行期上下文。
$noConflict() 防止冲突 在很多javascript库使用$作为一个函数或变量名，正如我们同时需要使用jQuery和其他库一样，我们可以使用$.noConfilct把$控制权交给其他库。
$.parseJSON()  字符转换成json ,要求非常严格，外部是单引号，内部属性是双引号，不需要回车符
$.makeArray 把类数组转换成数组。
jQuery高级方法：$.extend()  插件扩展1 提供最新的jQuery 工具方法
$.fn.extend()  插件扩展2 提供最新的jQuery 实例方法，是实例不是工具方法 
1编写方法1， $.extend(&#123;keftTrim :function ()&#123;&#125;&#125;)

12.fn.extend(&#123;drag : function()&#125;)


13. var cd &#x3D; $.Callback()   回调函数--》返回回调对象


14. once 只执行一次fire()  方法 放在回调函数的参数里面。

123var cd &#x3D; $.Callbacks(&#39;once&#39;);cd.add(fn1 ,fn2 ,fn3);cd.fire();


memory记忆  前面触发函数，后面添加也会被添加并触发  unique也是只执行一遍
$.Deferred() 延迟对象相当于有状态的Callbacks();
添加函数；
12done		fail		progress		触发成功，   失败 ，    进行中

触发函数：resolve          reject    notify
$.deferred.promise() —-&gt;不能触发函数（无状态）
$(when) —-&gt;返回的是延迟对象，参数也是延迟对象。当参数延迟对象全部触发done的时候最后会触发when返回延迟对象的done函数。

延迟对象作用控制的关键点，做链式运动的效果
$.ajax这种有状态的异步操作核心是deferred 
when当发生多个ajax请求的时候，因为都是异步的，所以可以用多个deferred ，每当ajax 成功后我们触发一个，最后全部成功在when后一并处理。

$() 里面可以填什么
1234$(false &#x2F;null &#x2F;undefined)  $(&#39;&lt;li&gt;,&lt;&#x2F;li&gt;&#39;)   $(&lt;li&#x2F;&gt;s1234)  $(&#39;&lt;li&gt;&#39;, &#123;html : 123 ,dg :&#39; ds&#39;&#125;)$(&#39;#id&#39; &#x2F;  &#39;.class&#39;   &#x2F;  div &#x2F; ul &#x2F;li &#x2F;    li:eq(0)) $(dom)
//在JQuery中，init()函数里面会判断返回的类型，如果是DOM则是因为后面有.nodeType$(function () {})$($())
jQuery .extend()  拓展工具方法$().extend()   拓展实例方法
extend：拓展合并（传两个参数 ，合并到第一个对象里面去）
原始值的话并不会变化，而改个引用值就ok。
extends的四种写法：
1234$.extend(obj1)$.extend(obj1, obj2)$.extend(true ,obj1)$.extend(true ,obj1,obj2)


其实就是要关注target是什么，i是什么（从第几位开始传)，如果前面有true就往后挪一位.


</section>
    <p class="sub">May 12, 2019</p>
  </div>
</div>
  
  


  </div>
  <div class="main-bottom">
    <div class="music flex flex-pack-justify flex-align-center">
      <div class="control">
        <a onclick="preSong()"><span class="iconfont icon-shangyishou"></span></a>
        <a onclick="playControl()"><span class="iconfont play-icon icon-kaishi1"></span></a>
        <a onclick="nextSong()"><span class="iconfont icon-xiayishou-copy"></span></a>
      </div>
      <div class="msg">
        <span class="time"></span>
        <div class="line" ref="progress-line-warp">
          <div class="song-msg">周杰伦 - 说好不哭</div>
          <!--<div class="current-line" ref="progress-line">
            <a tag="a" class="target" v-on:mousedown.prevent="mousedown"></a>
          </div>-->
        </div>
        <span class="all-time"></span>
      </div>
      <div class="right-control">
        <a class="order-btn flex flex-align-center" onclick="toogleShowMusicList()">
          <span class="iconfont icon-ttpodicon"></span>
          <span class="number flex1">3</span>
        </a>
      </div>
      <audio id="audio" class="mian-audio" src="https://callmesoul-blog.oss-cn-shenzhen.aliyuncs.com/music/%E5%91%A8%E6%9D%B0%E4%BC%A6%20-%20%E8%AF%B4%E5%A5%BD%E4%B8%8D%E5%93%AD.mp3">
        Your browser does not support the audio element.
      </audio>
    </div>
  </div>
  <div class="music-list">
    <div id="musiclist">
      
        <a class="music-item flex flex-align-center" data-name="周杰伦 - 说好不哭" data-url="https://callmesoul-blog.oss-cn-shenzhen.aliyuncs.com/music/%E5%91%A8%E6%9D%B0%E4%BC%A6%20-%20%E8%AF%B4%E5%A5%BD%E4%B8%8D%E5%93%AD.mp3" onclick="changePlayIndex(0)" >
          <span class="iconfont" class="icon-kaishi"></span>
          <span class="title flex1">说好不哭 - 周杰伦</span>
        </a>
      
        <a class="music-item flex flex-align-center" data-name="周杰伦 - 爱在西元前" data-url="https://callmesoul-blog.oss-cn-shenzhen.aliyuncs.com/music/%E5%91%A8%E6%9D%B0%E4%BC%A6%20-%20%E7%88%B1%E5%9C%A8%E8%A5%BF%E5%85%83%E5%89%8D%20%5Bmqms2%5D.mp3" onclick="changePlayIndex(1)" >
          <span class="iconfont" class="icon-kaishi"></span>
          <span class="title flex1">爱在西元前 - 周杰伦</span>
        </a>
      
        <a class="music-item flex flex-align-center" data-name="周杰伦 - 龙拳" data-url="https://callmesoul-blog.oss-cn-shenzhen.aliyuncs.com/music/%E5%91%A8%E6%9D%B0%E4%BC%A6%20-%20%E9%BE%99%E6%8B%B3%20%5Bmqms2%5D.mp3" onclick="changePlayIndex(2)" >
          <span class="iconfont" class="icon-kaishi"></span>
          <span class="title flex1">龙拳 - 周杰伦</span>
        </a>
      
    </div>
  </div>
</div>

<script>
  var playIndex = localStorage.getItem('playIndex') ? parseInt(localStorage.getItem('playIndex')) : 0
  let musics = $('.music-item')
  musics.eq(playIndex).addClass('active')
  var audio = document.getElementById("audio");

  $('.song-msg').html(musics[playIndex].dataset.name)
  audio.src = musics[playIndex].dataset.url


  var playbtn = document.getElementsByClassName("play-icon")[0];
  var playing = false;
  audio.loop = false;
  audio.addEventListener('ended', function () {
    playbtn.classList.remove("icon-kaishi")
    playbtn.classList.add("icon-kaishi1")
    playing = false
  }, false);
  audio.addEventListener('play', function () {
    playbtn.classList.remove("icon-kaishi1")
    playbtn.classList.add("icon-kaishi")
    playing= true
  }, false);
  audio.addEventListener('pause', function () {
    playbtn.classList.remove("icon-kaishi")
    playbtn.classList.add("icon-kaishi1")
    playing = false
  }, false);
  function toogleShowMusicList() {
    var musiclist = document.getElementsByClassName("music-list")[0];
    if(musiclist.className.indexOf("active") === -1){
      musiclist.classList.add("active")
    }else{
      musiclist.classList.remove("active");
    }
  }

  function playControl() {
    if(playing){
      audio.pause()
    }else{
      audio.play()
    }
  }

  function changePlayIndex(index) {
    if(playIndex !== index){
      localStorage.setItem('playIndex',index)
      playIndex = index
      musics.removeClass('active')
      musics.eq(playIndex).addClass('active')
      $('.song-msg').html(musics[playIndex].dataset.name)
      audio.src = musics[playIndex].dataset.url
      audio.play()
    }else{
      playControl()
    }
  }

  function preSong() {
    var index
    if(playIndex === 0){
      index = musics.length - 1
    }else{
      index = playIndex - 1
    }
    changePlayIndex(index)
  }

  function nextSong() {
    var index
    if(playIndex === musics.length - 1){
      index = 0
    }else{
      index = playIndex + 1
    }
    changePlayIndex(index)
  }

  function toggleMenu() {
    var mainLeft = $('.main-left')
    if(mainLeft.hasClass('active')){
      mainLeft.removeClass('active')
      $('.menu').removeClass('icon-close')
      $('.menu').addClass('icon-menu')
    }else{
      mainLeft.addClass('active')
      $('.menu').removeClass('icon-menu')
      $('.menu').addClass('icon-close')
    }
  }
</script>
